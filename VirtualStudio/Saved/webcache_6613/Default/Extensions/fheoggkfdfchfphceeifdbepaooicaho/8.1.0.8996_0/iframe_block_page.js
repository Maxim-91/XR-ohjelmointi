/*!
 * 
 *     MCAFEE RESTRICTED CONFIDENTIAL
 *     Copyright (c) 2026 McAfee, LLC
 *
 *     The source code contained or described herein and all documents related
 *     to the source code ("Material") are owned by McAfee or its
 *     suppliers or licensors. Title to the Material remains with McAfee
 *     or its suppliers and licensors. The Material contains trade
 *     secrets and proprietary and confidential information of McAfee or its
 *     suppliers and licensors. The Material is protected by worldwide copyright
 *     and trade secret laws and treaty provisions. No part of the Material may
 *     be used, copied, reproduced, modified, published, uploaded, posted,
 *     transmitted, distributed, or disclosed in any way without McAfee's prior
 *     express written permission.
 *
 *     No license under any patent, copyright, trade secret or other intellectual
 *     property right is granted to or conferred upon you by disclosure or
 *     delivery of the Materials, either expressly, by implication, inducement,
 *     estoppel or otherwise. Any license under such intellectual property rights
 *     must be expressed and approved by McAfee in writing.
 *
 */(()=>{"use strict";const e=chrome,a="UNBLOCK_IFRAME",t={NONE:0,LINKEDIN:1,INSTAGRAM:2,YOUTUBE:4,FACEBOOK:8,TWITTER:16,REDDIT:32},o=(Object.values(t).reduce((e,a)=>e+a),{NONE:"NONE",ONLY_SECURE_SEARCH:"ONLY_SECURE_SEARCH",ALL:"ALL",*[Symbol.iterator](){for(const e of Object.keys(this))yield e}}),{NONE:s,...n}=t,l={name:"POPUP_STATS",type:"object"},r={name:"LAST_ANTITRACKER_SCAN_RESULT",type:"object"},c={name:"ANTITRACKER_UPSELL_TASK",type:"object"},i={name:"FINGER_PRINT",type:"number"},_={name:"FIRST_PARTY",type:"number"},u={name:"THIRD_PARTY",type:"number"},m={name:"TRACKER_DOMAIN_LIST",type:"array"},d={name:"ANTITRACKER_WHITELIST",type:"array"},E={name:"CACHE_TAB_DATA",type:"object"},p=(Symbol.iterator,1),S=2,T=3,A=4,g=0,N=1,O=3,h=2,I="1.0.0.49",R=(e.runtime.getURL(""),{fingerPrintDomains:i.name,firstParty:_.name,thirdPartyTrackers:u.name});class D{static PreprocessSecureSearchRegEx(e){return e.trim().split("\n")}static getBrowserSuffix(){const{CH:e,FF:a,EDGE:t}={CH:"_ch",FF:"_ff",IE:"_ie",EDGE:"_ed"},o={};return o[T]=t,o[p]=a,o[S]=e,o[h]}}const{SYSTEM:v,USER:L}={SYSTEM:0,USER:1},C=2,w=3,f=D.getBrowserSuffix(),y={DEV_MODE:{scope:v,name:"dev_mode",value:!1},AFF_ID:{scope:v,name:"*Affid",value:0},BINARY_VERSION:{scope:v,name:"version",value:null},EXTENSION_VERSION_CH:{scope:v,name:"ChromeExtVersion",value:"",writeOnly:!0},EXTENSION_VERSION_FF:{scope:v,name:"*FirefoxXPIVersion",value:"",writeOnly:!0},EXTENSION_VERSION_ED:{scope:v,name:"EdgeExtVersion",value:"",writeOnly:!0},BROWSER_TYPE:{scope:v,name:"browsertype",value:"",writeOnly:!0},USER_AGENT:{scope:v,name:"useragent",value:"",writeOnly:!0},BROWSER_LANGUAGE:{scope:v,name:`BrowserUILanguageFromExtension${f}`,value:"en",writeOnly:!0},SUGGESTION_URL:{scope:v,name:"suggestion_url",value:""},SCRIPT_GENERATED_DEFAULT_SS_URL:{scope:L,name:`SCRIPT_GENERATED_DEFAULT_SS_URL${f}`,value:""},SECURE_SEARCH_REGEXES:{scope:L,name:"SECURE_SEARCH_REGEXES",value:"",preprocess:D.PreprocessSecureSearchRegEx},SHOW_SEARCH_SETTINGS:{scope:v,name:"*ShowSearchSettings",value:!0},SECURE_SEARCH_TOAST_STAMP:{scope:L,name:`*SSDateStampShowedToast${f}`,value:0},SECURE_SEARCH_ANNOTATION_ONLY:{scope:v,name:"*OnlyShowAnnotationsOnSecureSearch",value:!0},SECURE_SEARCH_SHOW_ICONS:{scope:L,name:"*Icons",value:!0},SECURE_SEARCH_CHOICE:{scope:L,name:`*SSToastChoice${f}`,value:!1},SS_DEF:{scope:v,name:`*SS_DEF${f}`,value:0},ANNOTATIONS_CHOICE_EXPLICIT:{scope:v,name:`*AnnotationsChoiceExplicit${f}`,value:!1},CURRENT_SAO_IN_EXTENSION:{scope:L,name:`*CurrentSAOInExtension${f}`,value:""},TOAST_COUNT:{scope:v,name:`ToastCount${f}`,value:0},SEARCH_PROVIDER_BLOCK_PAGE_ENABLE:{scope:v,name:"search_provider_block_page_enable",value:!1},SEARCH_PROVIDER_UNS_GEO_REDIRECT:{scope:v,name:"search_provider_uns_geo_redirect",value:"https://search.yahoo.com/th_notice_dss"},SEARCH_PROVIDER_BLOCK_PAGE_SHOWN:{scope:L,name:`search_provider_block_page_shown${f}`,value:!1},SEARCH_PROVIDER_BLOCK_PAGE_SHOWN_TIME:{scope:L,name:`search_provider_block_page_shown_time${f}`,value:0},FF_EXTENSION_LAST_TOAST_TIME:{scope:L,name:"ff_extension_last_toast_time",value:0,writeOnly:!0},FF_EXTENSION_TOAST_COUNT:{scope:L,name:"ff_extension_toast_count",value:0,writeOnly:!0},CHECKLIST_START_INGORE_DATE_AV:{scope:v,name:"startIgnoreDateAV",value:"",writeOnly:!0},CHECKLIST_START_IGNORE_DATE_FW:{scope:v,name:"startIgnoreDateFW",value:"",writeOnly:!0},CHECKLIST_IGNORE_DURACTION:{scope:v,name:"ignoreDuration",value:"14",writeOnly:!0},CHECKLIST_GRACE_PERIOD_AV:{scope:v,name:"fixGracePeriodStartDateAV",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_FW:{scope:v,name:"fixGracePeriodStartDateFW",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_DURATION:{scope:v,name:"fixGracePeriodDuration",value:"24",writeOnly:!0},CRYPTOJACKING_DISABLED:{scope:v,name:"CryptojackingDisabled",value:!0},SMA_ENABLED:{scope:v,name:"sma_enabled",value:!0},SMA_USER_TOGGLE:{scope:v,name:`sma_user_toggle${f}`,value:!1,writeOnly:!0},SMA_ANNOTATION_OPTIONS:{scope:v,name:`sma_annotation_options${f}`,value:0,writeOnly:!0},PAGES_SCANNED:{scope:v,name:"*CounterPagesScanned",value:0},PAGES_BLOCKED:{scope:v,name:"*CounterPagesBlocked",value:0},DOWNLOADS_SCANNED:{scope:v,name:"*CounterDownloadsScanned",value:0},DOWNLOADS_BLOCKED:{scope:v,name:"*CounterDownloadsBlocked",value:0},BLOCKPAGE_WHITELIST:{scope:L,name:"*WhiteList",value:""},TS_WHITELIST:{scope:L,name:"*TListWhiteList",value:""},CSP_ID_SETTING:{scope:v,name:"CSPIdValue",value:"__not_available__"},MTI_CLIENT_ID:{scope:v,name:"gti_client_id",value:""},JWT_TOKEN_ENABLED:{scope:v,name:"jwt_token_enabled",value:!1},UNINSTALL_SURVEY_ENABLED:{scope:v,name:"uninstall_survey_enabled",value:!1},UNINSTALL_SURVEY_URL:{scope:v,name:"uninstall_survey_url",value:""},RAT_DETECTION_ENABLED:{scope:v,name:"rat_detection_enabled",value:!0},IDPS_FEATURE_ENABLED:{scope:v,name:"idps_feature_enabled",value:0},APS_COHORT:{scope:v,name:"aps_cohort",value:0},APS_TOGGLE_SETTING:{scope:v,name:"aps_toggle_setting",value:!0},APS_SHOPPING_COHORT:{scope:v,name:"aps_shopping_cohort",value:0},ALT_TRIGGER:{scope:v,name:"alt_triggers_cohort",value:0},ANNOTATION_JOURNEY_COHORT:{scope:v,name:`annotation_journey_cohort${f}`,value:0},ANNOTATION_JOURNEY_TOAST:{scope:L,name:`aj_toast${f}`,value:null},DAILY_GREEN_URLS_TO_COLLECT:{scope:v,name:"daily_green_urls_to_collect",value:0},FEATURE_COLLECTION_ENABLED:{scope:v,name:"feature_collection_enabled",value:!1},DAILY_GREEN_URLS_RESET_RATE:{scope:v,name:"daily_green_urls_reset_rate",value:0},HERON_REPORT_ENABLED:{scope:v,name:"heron_report_enabled",value:!1},SAMPLING_RATE_BLOCK_DEFAULT:{scope:v,name:"sampling_rate_block_default",value:100},SAMPLING_RATE_USER_FEEDBACK:{scope:v,name:"sampling_rate_user_feedback",value:1},WA_EXTN_UUID:{scope:L,name:`wa_extn_uuid${f}`,value:"",writeOnly:!0},TYPOSQUAT_ENABLED:{scope:v,name:"typosquat_enabled",value:!0},MOCKINGBIRD_ENABLED:{scope:v,name:"mockingbird_enabled",value:!0},DFD_FEEDBACK_ENABLED:{scope:v,name:"dfd_feedback_enabled",value:!1},DFD_ENTITLED:{scope:v,name:"dfd_entitled",value:null,writeOnly:!0},DFD_ACTIVATED:{scope:v,name:"dfd_activated",value:null,writeOnly:!0},DFD_SHOW_ACTIVATE_BANNER:{scope:v,name:"dfd_show_activate_banner",value:!1},NATIVE_DEVICE_ID:{scope:v,name:"context_device_id",value:"unknown"},DISABLE_NPS_SURVEY_VERSION_2:{scope:v,name:"*FeatureDisableNPSSurveyVersion2",value:!0,type:w},NPS_SURVEY_LAST_SHOWN:{scope:v,name:"NPSSurveyLastShown",value:0,type:C},NPS_SURVEY_TIMES:{scope:v,name:"NPSShownTimes",value:0,type:C},NPS_SURVEY_SUBMITTED:{scope:v,name:"NPSSurveySubmitted",value:!1,type:w},INSTALLATION_DATE:{scope:v,name:"*InstallDate",value:0,type:C},WEB_BOOST_UPSELL_VERSION_2_DISABLED:{scope:v,name:"WBUpsellVersion2Disabled",value:!0,type:w},WB_SHOWN:{scope:L,name:"WBShown",value:!1,type:w},WB_LAST_SHOWN_DATE:{scope:L,name:"WBLastShownDate",value:0,type:C},SCHEDULER_BACKOFF:{scope:v,name:"scheduler_backoff",value:!0},ESD_ENABLED:{scope:v,name:"esd_enabled",value:0},ESD_URL_PARAM:{scope:v,name:"esd_url_param",value:""},SEARCH_CATEGORIZATION_ENABLED:{scope:v,name:"search_categorization_enabled",value:!1},HARVEST_ANNOTATION_WHEN_SS_ON:{scope:v,name:"harvest_annotation_when_ss_on",value:0},HARVEST_ANNOTATION_WPS_STATUS:{scope:v,name:"harvest_annotation_wps_status",value:null,writeOnly:!0},HARVEST_ANNOTATION_SS_STATUS:{scope:v,name:"harvest_annotation_ss_status",value:null,writeOnly:!0},HARVEST_ANNOTATION_OPTION_SET:{scope:v,name:"harvest_annotation_option_set",value:null,writeOnly:!0}};class b{static getResetValues(){return{blockedIframes:[],tabDomainTrusted:!1,mockingbird:{},mbVideoId:null}}static getDefaultValues(){return b.getResetValues()}reset(e){const a=ie.localStore.get(E.name,{}),t=a[e]&&a[e].blockedIframes&&Object.keys(a[e].blockedIframes).length>0;ie.htiReportHandler.checkBacklog(e,a[e],t),this.update(e,b.getResetValues())}get(e){return ie.localStore.get(E.name,{})[e]||b.getDefaultValues()}set(e,a){const t=ie.localStore.get(E.name,{});t[e]=a,ie.localStore.set(E.name,t)}delete(e){const a=ie.localStore.get(E.name,{}),t=a[e]&&a[e].blockedIframes&&Object.keys(a[e].blockedIframes).length>0;ie.htiReportHandler.checkBacklog(e,a[e],t),delete a[e],ie.localStore.set(E.name,a)}update(e,a){const t=this.get(e);this.set(e,{...t,...a})}setTabBlockPageData(e,a,t=!0){const o={...this.get(e),blockPageData:a};this.set(e,o),t&&!a.url.includes("chrome://extensions/")&&ie.htiReportHandler.addReportToBacklog(e,o)}addBlockedFrame(e,a){const t=this.get(e);t.blockedIframes.push(a),this.update(e,t),ie.htiReportHandler.addIFrameReportToBacklog(e,t)}getBlockedFrames(e){return this.get(e).blockedIframes}resetBlockedFrames(e){const a=this.get(e);a.blockedIframes=[],this.update(e,a)}}const P="https://mip.api.mcafeewebadvisor.com/v1/typosquatting?",U="https://sadownload.mcafee.com/products/SA/Win/extensions/engines/update.json",k="https://sadownload.mcafee.com/products/SA/Win/extensions/sailor/condition.json",B="https://sadownload.mcafee.com/products/SA/Win/extensions/antitracker/all_trackers.json",F="https://threat.api.mcafee.com/",H="https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/condition.json",G="https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/featureflag",W="https://securitymgmt.unifiedapis.mcafee.com",M="https://securitymgmt.qa.unifiedapis.mcafee.com",V="https://securitymgmt.staging.unifiedapis.mcafee.com",x="/auth/v2/token",K="https://einstein-core.awscommon.mcafee.com",Y="https://einstein-qa-core.awscommon.mcafee.com",q="https://einstein-stg-core.awscommon.mcafee.com",$=new Set(["www.mcafee.com"]),j="PAGES_SCANNED",X="PAGES_BLOCKED",J="DOWNLOADS_SCANNED",z="DOWNLOADS_BLOCKED";class Q{static init(){const e=this.read(),{PAGES_SCANNED:a,PAGES_BLOCKED:t,DOWNLOADS_SCANNED:o,DOWNLOADS_BLOCKED:s}=ie.nativeSettings,n={pagesScanned:a.value||e.pagesScanned,pagesBlocked:t.value||e.pagesBlocked,downloadsScanned:o.value||e.downloadsScanned,downloadsBlocked:s.value||e.downloadsBlocked};ie.localStore.set(l.name,n)}static add(e){const a=this.read();switch(e){case j:a.pagesScanned++;break;case X:a.pagesBlocked++;break;case J:a.downloadsScanned++;break;case z:a.downloadsBlocked++;break;default:return}ie.localStore.set(l.name,a)}static read(){const e={pagesScanned:0,pagesBlocked:0,downloadsScanned:0,downloadsBlocked:0},a=ie.localStore.get(l.name);return a&&Object.assign(e,a),e}}const Z=0,ee="PRINT_IN_BACKGROUND",ae={NONE:0,INFO:1,ERROR:2,WARN:3,DEBUG:4,ALL_IN_BACKGROUND:99},te=1,oe=2,se=3,ne=4,le={BACKGROUND:"BACKGROUND",CONTENT:"CONTENT",TELEMETRY:"TELEMETRY"},re={DEFAULT:"color: #000000; font-weight: normal; font-style:normal; background: #FFFFFF;",BACKGROUND:"color: #8D0DBA; font-weight: bold; background: #FFFFFF;",CONTENT:"color: #F54A26; font-weight: bold; background: #FFFFFF;",TELEMETRY:"color: #147831; font-weight: bold; background: #FFFFFF;"};const ce=new class{constructor(){this.storageChecked=!1,this.logLevel=null,this.queue=[];const e="MCLOGLEVEL";chrome?.storage?.local.get([e]).then(a=>{const t=Object.values(ae).includes(a[e]);this.logLevel=t?a[e]:Z,this.logLevel!==ae.NONE&&this.queue.forEach(({callback:e,message:a,processType:t})=>{e(a,t)}),this.queue=[],this.storageChecked=!0})}log(e,a=null){this.storageChecked?this.processLog(e,te,a,this.logLevel):this.queue.push({callback:this.log.bind(this),message:e,processType:a})}error(e,a=null){this.storageChecked?this.processLog(e,oe,a,this.logLevel):this.queue.push({callback:this.error.bind(this),message:e,processType:a})}warn(e,a=null){this.storageChecked?this.processLog(e,se,a,this.logLevel):this.queue.push({callback:this.warn.bind(this),message:e,processType:a})}debug(e,a=null){this.storageChecked?this.processLog(e,ne,a,this.logLevel):this.queue.push({callback:this.debug.bind(this),message:e,processType:a})}processLog(e,a,t,o){if(o===ae.NONE)return;let s="chrome-extension:"===location.protocol?le.BACKGROUND:le.CONTENT;t&&le[t]&&(s=t);const n=this.formatDateWithMilliseconds(new Date),l=a===oe?e:`%c[${s} ${n} ]: %c${e}`;s===le.CONTENT&&this.logLevel===ae.ALL_IN_BACKGROUND&&chrome.runtime.sendMessage({command:ee,logMessage:l,processType:s,logType:a,logLevel:o}),this.printLog(l,s,a,o)}formatDateWithMilliseconds(e){return`${new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(e)}.${e.getMilliseconds().toString().padStart(3,"0")}`}printLog(e,a,t,o){const s=re.DEFAULT,n=re[a]||s;if(o>=ae.ERROR&&t===oe&&console.error(e),o>=ae.INFO&&t===te&&console.log(e,n,s),o>=ae.WARN&&t===se){const a="color: #FFA500; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cWARN - ${e}`,a,n,s)}if(o>=ae.DEBUG&&t===ne){const a="color: #FF33D7; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cDEBUG - ${e}`,a,n,s)}}};const ie={isTrustCheckRequired:!0,ExtensionTelemetryUrl:null,scheduleManager:null,isNativeConnected:!0,telemetryEngine:null,postInstallationPage:"https://www.mcafee.com/consumer/v/wa-how.html",listenerManager:null,firefoxInternalUUID:"",shadowMode:"closed",browserType:h,sessionStore:null,localStore:null,idb:null,ffViewports:null,garbageCollector:null,typoCache:null,urlRequestInfo:new Map,logger:null,loglevel:null,messageDispatcher:null,port:null,tabData:new b,useNativeLogger:!1,wasm:null,userAgentInBase64:null,typoSquattingServer:P,tldParser:null,urlParser:null,trustedDomains:$,nativeSettings:y,searchSuggest:null,ratBlacklist:[{domain:"www.beamyourscreen.com",urls:[]},{domain:"www.connectwise.com",urls:["www.connectwise.com/platform/unified-management/control"]},{domain:"get.gotoassist.com",urls:[]},{domain:"fastsupport.gotoassist.com",urls:[]},{domain:"www.join.me",urls:[]},{domain:"www.mikogo.com",urls:[]},{domain:"www.mikogo.de",urls:[]},{domain:"www.securelink.com",urls:[]},{domain:"join.zoho.com",urls:[]}],preconditions:null,platform:class{static debounce(e,a,t,o=!1){const s=new Map;return(...n)=>{let l,r;o?(r=n[0],n=n.slice(1),l=s.get(r)):(r="global_debounce_key",l=s.get(r)||null);const c=t&&!l;clearTimeout(l),l=setTimeout(()=>{s.delete(r),t||e(...n)},a),s.set(r,l),c&&e(...n)}}static isBrowserEN(){return e.i18n.getUILanguage().toLowerCase().startsWith("en")}static isChromeBrowser(){const e=navigator.userAgent.toLowerCase();return!(!e.includes("chrome")||!1==!!chrome)&&(!e.includes("opr")&&!e.includes("edg"))}static isWindowsOS(){const{platform:e}=navigator;return e&&-1!==e.search("Win")}static getPlatform(){const{platform:e}=navigator;let a=g;return-1!==e.search("Mac")?a=N:-1!==e.search("iPhone")&&(a=O),a}}.getPlatform(),launchPageOnInstall:!1,nativeDispatcher:null,wssNativeDispatcher:null,wssMessageDispatcher:null,wssNativeClient:null,WSS_INSTALLED:!1,isWPSInstalled:!1,searchEngines:null,enginesVersionUrl:U,engineCheckInterval:864e5,ENGINES_VERSION:I,AUTO_PLAY_NOTIFICATION_ENABLED:!1,DLS_POPUP_FOR_WA_NATIVE_ENABLED:!1,WPS_AV_STATE_ENABLED:!1,WPS_SUBSCRIBE_INFO:null,WA_EXTN_CONDITION_URL:H,ALLOW_LOCALHOST:!1,IDPS_AUTH_URL:"https://csptoken.ccs.mcafee.com/auth/token",IDPS_BREACH_COUNT_URL:"https://identity.unifiedapis.mcafee.com/breach/v1/BreachCount",IDPS_CSP_CLIENT_ID:null,IDPS_IS_ENTITLED:!1,PROVISION_ID:null,IDPS_LOGIN_DOMAIN:"https://protection.mcafee.com",UA_CLIENT:null,TYPOSQUATTING_MAX_CACHE:100,TYPOSQUATTING_EXPIRY:2592e6,typosquattingHandler:null,URL_DOWNLOAD_MAX_CACHE:100,URL_DOWNLOAD_EXPIRY:2592e6,permittedContentTypes:["application/vnd.microsoft.portable-executable","application/octet-stream","application/zip","application/x-msdos-program","application/x-msdownload","binary/octet-stream"],WA_IMAGE_SECRET:null,apsUrlList:{shopping:{"www.amazon.com":{paths:["gp/cart"]}},email:{"mail.google.com/mail":{selector:"div[role=main] a"},"outlook.live.com/mail":{selector:"div[role=main][aria-label] a"},"outlook.office.com/mail":{selector:"div[role=main][aria-label] a"},"outlook.office365.com/mail":{selector:"div[role=main][aria-label] a"},"mail.yahoo.com":{selector:"div[role=main] ul li a"}}},apsAnimationTimeout:5e3,wpsRequestedSettings:["SMA_USER_TOGGLE","SEARCH_ANNOTATION_OPTION","SMA_ANNOTATION_OPTIONS"],SUPPORTED_WEBSITE_LIST:["protection.mcafee.com","protection-dev-roadhouse-int.dvqa.mcafee.com","protection-dev2-roadhouse-int.dvqa.mcafee.com","protection-qa-roadhouse-int.dvqa.mcafee.com","protection-stg-roadhouse-pub.dvqa.mcafee.com","protection-stg2-roadhouse-pub.dvqa.mcafee.com","protection-stg3-roadhouse-pub.dvqa.mcafee.com"],MPC_DOMAIN_IN_USE:"",mtiRequestor:null,htiServer:F,cspClientId:"e87c73de-b45e-4427-b590-5124401795b6",sailer:null,sailorConditionUrl:k,allTrackerUrl:B,antitrackData:new class{async init(){const e=await(ie.einsteinApiHandler?.getAppConfig());e?.antitrack_upsell_config?.enabled&&ie.scheduleManager.setEnabled(c.name,!0)}isActive(){return!ie.isAntitrackerExtInstalled}isWhiteListed(e,a){return ie.localStore.get(d.name,["mcafee.com"]).some(a=>e.includes(a))||a.includes("fi")}addCountTo(e,a=1){const t=ie.localStore.get(e,0);ie.localStore.set(e,t+a)}getAndResetCount(e){const a=ie.localStore.get(e,0);return ie.localStore.set(e,0),a}addLatestDomain(e,a){try{this.addCountTo(a);const t=new Date,o=`${t.getFullYear()}${t.getMonth()}${t.getDate()}`,s=new URL(e).hostname.replace("www.",""),n=this.getDomainList();n.dataDate!==o&&(n.dataDate=o,n.domainHistoryMap={}),n.lastVisited=s,n.domainHistoryMap=n.domainHistoryMap||{},(n.domainHistoryMap[s]||Object.keys(n.domainHistoryMap).length<50)&&(n.domainHistoryMap[s]=(n.domainHistoryMap[s]||0)+1),ie.localStore.set(m.name,n)}catch(e){ce.log(`[AntitrackerData] Error adding last domain: ${e.message||e}`)}}getDomainList(){const e=ie.localStore.get(m.name,{});return JSON.parse(JSON.stringify(e))}updateWPS(e){try{e=e?JSON.parse(e):{};const{pagesBlocked:a=0,pagesScanned:t=0}=Q.read();let o=0;Object.values(R).forEach(a=>{const t=a.toLowerCase(),s=(e[t]||0)+this.getAndResetCount(a);e[t]=s,o+=s}),e.total_trackers=o,e.blocked_pages=a,e.scanned_pages=t,e.last_visited="",e.domain_history="",0===e.total_trackers&&0===e.blocked_pages&&0===e.scanned_pages&&""===e.last_visited&&""===e.domain_history||!this.isSameAsLastScan(e)&&ie.wssMessageDispatcher&&(ie.wssMessageDispatcher.nativeDispatcher.updateAntitrackerToWPS(e),ie.localStore.set(r.name,e))}catch(e){ce.log(`[AntitrackerData] Error sending AT updates to WPS: ${e.message}`)}}getDomainHistory(e={}){let a="";const t=Object.keys(e);if(0===t.length)return a;t.sort((a,t)=>e[t]-e[a]);for(let o=0;o<t.length&&o<5&&t[o];o++){const s=t[o];a+=`${s},${e[s]},`}return a.slice(0,-1)}isSameAsLastScan(e){const a=ie.localStore.get(r.name,{}),t=Object.keys(e);if(t.length!==Object.keys(a).length)return!1;for(const o of t)if(e[o]!==a[o])return!1;return!0}},isAntitrackerExtInstalled:!1,sendDataToWpsFlag:!1,extnRequestUpdateThrottle:0,extnUpdateFrequency:144e5,extnUpdateTelemetrySample:0,extnUpdateTelemetryEnabled:!1,extnUpdateTelemetryHarvestFoldback:!1,analyticsContentVersion:"1.0.1",htiReportHandler:null,mockingBirdHandler:null,featureFlagManager:null,featureFlagServer:G,featureFlagIsFreshInstalled:!1,dfdActiveTabRecording:!1,dfdRecordingTimer:-1,externalMessageHandler:null,npsSurveyHandler:null,esdAllowedEmailServiceProviders:{GMAIL:{start:"https://mail.google.com",contains:"/mail/"},OUTLOOK:{start:"https://outlook.live.com",contains:"/mail/"},YAHOO:{start:"https://mail.yahoo.com",contains:"/n/"}},esdToastFeatureFrequency:2592e5,MPC_ESD_DASHBOARD:"https://protection.mcafee.com/esd/dashboard",emailScamDetectionHandler:null,einsteinApiHandler:null,einsteinServer:{prod:K,qa:Y,stg:q},securityManagerServer:{prod:W,qa:M,stg:V},securityManagerGetTokenPath:x};e.runtime.onMessage.addListener((t,o)=>{if(o.id===e.runtime.id&&t.command===a)if(ie.browserType===A){const e=chrome.runtime.getFrameId(window),a=t.message||{};a&&a.frameId===e&&window.location.replace(a.url)}else window.location.replace(t.url)})})();
//# sourceMappingURL=sourceMap/chrome/iframe_block_page.js.map